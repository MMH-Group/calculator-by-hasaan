<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Hasaan's Hacker Calculator</title>

<style>
:root{
  --bg:#030000;
  --panel:rgba(255,0,0,0.08);
  --glass:rgba(255,0,0,0.04);
  --accent:#ff1e1e;
  --accent-2:#8b0000;
  --txt:#ffecec;
  --muted:#ff6b6b;
  --pad:clamp(10px,2.5vw,18px);
  --btn-pad:clamp(12px,3vw,16px);
  --btn-font:clamp(16px,2.6vw,18px);
  --display-font:clamp(20px,5vw,32px);
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  font-family:"Courier New", monospace;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(255,0,0,0.05) 0px,
      rgba(255,0,0,0.05) 1px,
      transparent 2px,
      transparent 4px
    ),
    radial-gradient(900px 400px at 50% 0%, rgba(255,0,0,0.2), transparent 60%),
    var(--bg);
  color:var(--txt);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
}

/* Calculator shell */
.calc{
  width:360px;
  background:rgba(0,0,0,0.9);
  border:1px solid rgba(255,0,0,0.4);
  border-radius:10px;
  padding:var(--pad);
  box-shadow:
    0 0 40px rgba(255,0,0,0.35),
    inset 0 0 25px rgba(255,0,0,0.25);
}

/* Header */
.header{
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:12px;
}

.logo{
  width:44px;
  height:44px;
  border-radius:6px;
  background:linear-gradient(135deg,#ff1e1e,#7a0000);
  box-shadow:
    0 0 12px rgba(255,0,0,0.8),
    0 0 30px rgba(255,0,0,0.3);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:900;
  color:black;
}

.brand h1{
  margin:0;
  font-size:14px;
}

.sub{
  font-size:11px;
  color:var(--muted);
}

/* Display */
.display{
  background:#000;
  border:1px solid rgba(255,0,0,0.4);
  border-radius:6px;
  padding:12px;
  min-height:80px;
  box-shadow: inset 0 0 20px rgba(255,0,0,0.35);
}

.out-small{
  font-size:12px;
  color:var(--muted);
}

.out-main{
  font-size:var(--display-font);
  font-weight:bold;
  text-shadow:
    0 0 6px rgba(255,0,0,0.7),
    0 0 14px rgba(255,0,0,0.4);
  word-break:break-all;
}

/* Keys */
.keys{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
  margin-top:12px;
}

button{
  padding:var(--btn-pad);
  border-radius:6px;
  border:1px solid rgba(255,0,0,0.3);
  background:#0a0000;
  color:#ff4d4d;
  font-size:var(--btn-font);
  cursor:pointer;
  box-shadow:
    inset 0 -2px 0 rgba(255,0,0,0.3),
    0 0 10px rgba(255,0,0,0.15);
}

button:hover{
  box-shadow:0 0 18px rgba(255,0,0,0.6);
}

.op{
  background:linear-gradient(180deg,#ff1e1e,#8b0000);
  color:black;
}

.clear{
  background:linear-gradient(180deg,#ff4d4d,#b30000);
  color:black;
}

.wide{grid-column:span 2}

/* Footer */
.footer{
  margin-top:12px;
  font-size:12px;
  color:var(--muted);
  display:flex;
  justify-content:space-between;
}
</style>
</head>

<body>
<main class="calc">
  <div class="header">
    <div class="logo">HX</div>
    <div class="brand">
      <h1>Hasaan's Hacker Calc</h1>
      <div class="sub">root@terminal</div>
    </div>
  </div>

  <div class="display">
    <div class="out-small" id="history"></div>
    <div class="out-main" id="result">0</div>
  </div>

  <div class="keys">
    <button class="clear" data-action="clear">C</button>
    <button data-action="back">DEL</button>
    <button data-action="percent">%</button>
    <button class="op" data-value="/">÷</button>

    <button data-value="7">7</button>
    <button data-value="8">8</button>
    <button data-value="9">9</button>
    <button class="op" data-value="*">×</button>

    <button data-value="4">4</button>
    <button data-value="5">5</button>
    <button data-value="6">6</button>
    <button class="op" data-value="-">−</button>

    <button data-value="1">1</button>
    <button data-value="2">2</button>
    <button data-value="3">3</button>
    <button class="op" data-value="+">+</button>

    <button class="wide" data-value="0">0</button>
    <button data-value=".">.</button>
    <button class="op" data-action="equals">=</button>
  </div>

  <div class="footer">
    <div>Memory: <span id="mem">0</span></div>
  </div>
</main>

<script>
const resultEl = document.getElementById("result");
const historyEl = document.getElementById("history");
const keys = document.querySelector(".keys");
const memEl = document.getElementById("mem");

let expr = "";
let mem = 0;

function render(){
  historyEl.textContent = expr;
  resultEl.textContent = expr || "0";
}

function evaluateExpr(e){
  e = e.replace(/×/g,"*").replace(/÷/g,"/").replace(/−/g,"-");
  e = e.replace(/(\d+(?:\.\d+)?)%/g,"($1/100)");
  return Function("return ("+e+")")();
}

keys.addEventListener("click",e=>{
  const b = e.target.closest("button");
  if(!b) return;

  if(b.dataset.action==="clear"){expr="";render();return;}
  if(b.dataset.action==="back"){expr=expr.slice(0,-1);render();return;}
  if(b.dataset.action==="percent"){expr+="%";render();return;}
  if(b.dataset.action==="equals"){
    try{
      expr=String(+evaluateExpr(expr).toFixed(12));
    }catch{
      expr="ERROR";
    }
    render();
    return;
  }
  if(b.dataset.value){expr+=b.dataset.value;render();}
});

window.addEventListener("keydown",e=>{
  if(/[0-9+\-*/.%]/.test(e.key)){
    expr+=e.key;render();
  }
  if(e.key==="Enter"){expr=String(evaluateExpr(expr));render();}
  if(e.key==="Backspace"){expr=expr.slice(0,-1);render();}
});
</script>
</body>
</html>
